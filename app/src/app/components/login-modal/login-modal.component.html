<div #loginModal id="login-modal" uk-modal>
	<div class="uk-modal-dialog">
		<div class="uk-modal-header">
			<h2 class="uk-modal-title">{{existingUser ? 'Log in' : 'Register as a new user'}}</h2>
		</div>
		<div class="uk-modal-body">
			<button class="uk-modal-close-outside" type="button" uk-close></button>
			<form class="uk-form-stacked" (submit)="submitCredentials()">
				<div class="uk-margin">
					<div class="uk-form-controls">
						<label>
							<input #userUsernameInput
								   id="username-input"
								   class="uk-input"
								   type="text"
								   placeholder="Username"
								   autocomplete="username"
								   [formControl]="usernameInput">
						</label>
					</div>
				</div>
				<div class="uk-margin">
					<div class="uk-form-controls">
						<label>
							<input id="password-input"
								   class="uk-input"
								   type="password"
								   placeholder="Password"
								   autocomplete="{{existingUser ? 'current-password' : 'new-password'}}"
								   [formControl]="passwordInput">
						</label>
					</div>
				</div>
				<div class="uk-margin" *ngIf="!existingUser">
					<div class="uk-form-controls">
						<label>
							<input id="password-confirmation-input"
								   class="uk-input"
								   type="password"
								   placeholder="Confirm password"
								   autocomplete="new-password"
								   [formControl]="passwordConfirmationInput">
						</label>
					</div>
				</div>
				<div uk-spinner class="uk-animation-slide-bottom uk-animation-fast" *ngIf="requestInProgress"></div>
				<div class="uk-alert-danger uk-margin" uk-alert *ngIf="!requestInProgress && loginErrorMessage?.length">
					<a class="uk-alert-close" uk-close></a>
					<p>{{loginErrorMessage}}</p>
				</div>
				<button class="uk-float-right uk-button uk-button-primary"
						[disabled]="requestInProgress"
						type="submit">{{existingUser ? 'Login' : 'Register'}}
				</button>
			</form>
		</div>
	</div>
</div>
