<h2 class="uk-heading-medium">{{table.name}}</h2>
<table class="uk-table uk-table-divider uk-table-hover">
	<thead>
	<tr>
		<th *ngFor="let column of columns"
			class="uk-width-small">{{column.name}}</th>
		<th>
			<button *ngIf="!columnInCreation"
					class="uk-button uk-button-default"
					type="button" (click)="addColumn()">
				Add column
			</button>
			<div *ngIf="columnInCreation" class="uk-animation-fade">
				<form (submit)="onTableCreated()">
					<div class="uk-grid-small uk-flex-middle" uk-grid>
						<div class="uk-width-expand">
							<input class="uk-input uk-form-small"
								   type="text"
								   placeholder="Title"
								   [formControl]="columnNameInput"
								   [value]="table.name">
						</div>
						<div class="uk-width-auto">
							<button type="submit" uk-icon="icon: check"></button>
						</div>
					</div>
				</form>
			</div>
		</th>
	</tr>
	</thead>
	<tbody>
	<tr *ngFor="let row of rows">
		<td *ngFor="let item of row.values | keyvalue : indexAscOrder">
			{{item.value}}
		</td>
	</tr>
	<tr>
		<td *ngFor="let column of columns; let i = index">
			<div *ngIf="newRowColumnIndex === i">
				<app-table-cell-editor [table]="table"
									   [column]="column"
									   [row]="rowInEditing"
									   (cellSubmitted)="onNewRowCellValueSubmitted($event)">
				</app-table-cell-editor>
			</div>
			<span *ngIf="newRowColumnIndex !== i && rowInEditing">
				{{getCellAt(rowInEditing, i)}}
			</span>
		</td>
	</tr>
	</tbody>
</table>
